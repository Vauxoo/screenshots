# This file was autogenerated and will overwrite each time you run travis_pypi_setup.py
sudo: required
dist: trusty
language: python
python: 2.7
virtualenv:
  system_site_packages: true
before_install:
- sudo apt-get -qq update
- sudo apt-get install -y gir1.2-gtk-3.0 gir1.2-appindicator3-0.1 gir1.2-notify-0.7 python-coverage
  python-gi
# Remove when trusty image is ready.
- sudo pip install coverage==4.0
install:
  - pip install -U tox
  - pip install coverage==4.0
script:
- tox --sitepackages
- coverage run --source vxscreenshots setup.py test
- coverage report -m
- cd docs
- make deploy -s

env:
  global:
    - TOXENV=py27
    - GH_REF=github.com/Vauxoo/vxscreenshots.git
    - GH_BRANCH=gh-pages
    - GH_COMMITER_EMAIL=cowardvasallwrite@vauxoo.com
    - GH_COMMITER_NAME="Travis Robot."
    - secure: pbSsu6yrfPKNYD1B3a9lqdPYAOqGgSuBxmrMy9aEr1lpYRwIEZbdO22NZZOcb3k7tsN6RN1iFuCSerHvHCqqowGcbY8MaEiMivJgsNiJc1KxwbXpPF+Jet4KtXjwcaIvhlh9b1fW3FZ56MI/xLUnLxrgJRQcCvB8SA/gkYN0hCpKoi2n9z2K57rED9IuiTpAaygv/fW6zGwzvkZ6IuTaMVGtWxtzWOXqseX7LuGLPSxA8gGgOc5JrOh6IlHyYQ1hu67GUF6P2ptVFoK7MItlrlyEwo2/2v/TUbLNTmWAJld3dF57EEch6zhfV5QiYIan7HtY0JZSXum3bo5FI7R+mVG54+Amz9zOjYwUDpblI0UQVdGnCErXVoorB/FInK011EzXhJAd6NR8UQpj2X400c0S1y2CFNC2wTVexwKS44TTyrzfzKwjXL45Pz30kJvvUJdu9XACWhqaMnxS/rUVI/wtrATWn5swQYySMqgAtVCA/jO6iStaFy0f+1+EzTGvgg4XEEW7Ho51aUOVbd3BYbEY4J2M+EXVMQQam6bL4CKVZB2zjk8On5FDbIStQ+2mOdVDzosVw3cnByooTN3U5G4o8bioo61lXfIeGkYcMeC2m09cErCqEAcofZ2OiZVDPzfQDOT6JeyuRQVULudTLGKPhvL5Akvki3v3zUQ3eQA=
deploy:
  true:
    condition: $TOXENV == py27
    repo: Vauxoo/vxscreenshots
    tags: true
  distributions: sdist bdist_wheel
  password:
    secure: mszD8SRejnz90YPJjG8eLmYj9msFUrdks8DJuyBfj5rLd03wY9ZEoqY0BNeYtYvl2OMaNrhgM/9OzRQJ+vWPJtE68vIBx8TsXvJiu25jF3Z10xkuwA02Vtm9nM4aEDE+wqUP0bWkxHCAz7Reh1XRRjegzIZr1Bf8C+ln0iaW+hL0sq0q0B1TQXK3AxyrGZeHhPVZEV+F3QttRL9/NDvFzFtVU+IlIUQfYaWsJ0Vjm0byXMo/80eVYN88UBUXfIt2dOTo+9BjdwVO8d4BpdP8y61isTrfLirQS12vm8l9Q9k5W36kPWa9KwYywmt98aoDfgSGl5KVLxn2Yl6l0GncqMFSpslI8PEMZxOGcmS5G6q0PvosB/lQhwDQMpjJh+hCBTNSVvAd94q7l/nCH9nzyYJuUywzPWtdY5oESIl9w3kcu6OisaMSL5cpsx0/aU6j/FGuZVtpAHBaVajli8rh9vr1Ul2Fqunk/0Pkul2kM3oH/T9oRtIS55hZ5/D2GizcTF1XqqSqNRqNlcNu74Od55b1KxfoDc/DBLMp0roDj2H8MZYauMsDfTxTHK2vleCD9Q2c6bUEq0SSHG+oFE+BogTEWQHHuRyM7/x5SGNZKHQvuUbNgYVd0p+TttsY3NI7/lWQLebIgXzyViOoLYqD84tmXz5pz0RD31pRuPXG8Fo=
  provider: pypi
  user: nhomar

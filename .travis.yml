# This file was autogenerated and will overwrite each time you run travis_pypi_setup.py
sudo: required
dist: trusty
language: python
python: 2.7
virtualenv:
  system_site_packages: true
before_install:
- sudo apt-get -qq update
- sudo apt-get install -y gir1.2-gtk-3.0 gir1.2-appindicator3-0.1 gir1.2-notify-0.7 python-coverage
  python-gi
# Remove when trusty image is ready.
- sudo pip install coverage==4.0
install:
  - pip install -U tox
  - pip install coverage==4.0
script:
- tox --sitepackages
- coverage run --source vxscreenshots setup.py test
- coverage report -m
- cd docs
- make deploy -s

env:
  global:
    - TOXENV=py27
    - GH_REF=github.com/Vauxoo/vxscreenshots.git
    - GH_BRANCH=gh-pages
    - GH_COMMITER_EMAIL=cowardvasallwrite@vauxoo.com
    - GH_COMMITER_NAME="Travis Robot."
    - secure: WX/g+Jt2hSWaZGApsUSb5byu5PYI9P2wcF+NNSw6fAeluZA+k7IAIXb2/dV7a+7OvDAalVJNK3vOFSxdyarVJ0/nWvGZ5uLtOZv1jkW5G6eTDKn9PAKyLJ62NACTvaJboRgdG6Kz+RN7dHPEOt1AKDgH+tvYZTcdK4nUJKVV8vuSHdrYRY1G4jOvCHeEN45WrhPx/at9T7m8ZI7cOav2DxqMuw758wLkYN0qWPKwrs4Ro1WXNxVzmDVdl4oyvyZa/uFK8UMwgg+nBUM/V2902YVbj/Erlsovfya3M4pCSiYSmNsjVzy1Yd5b+aezIyfrNVBez/uieuL4dDptYAykxrHJ8c9+Pjt+e7XJ7eRbay0wSRQTqJ88tfoUfwefidaq1T35nS4Rx2kEmxY4hE/ibWCpo+UHYisAnM7XRwNCawGT7pxyiCrN+DBZ5MEydEiy9h+Eg4EQjvtvqbC5Uw3Cf6X/PosWxfDqv01ccud6Nd/kdkATtuL31bpBCmmviPbY/iDV3h+Ng7pGEp8adhW9QfUeZb7u2cNZ1Eja9HYkdidUzAoHTz7G7EicDo69MFnKn7Mtc7N/onIQqyT4lBWDGW2HJhdeRJKrcCt91QNNPUKUQ02adKVp258UNKZxTfRzVq+XkMbxgD3ATL5+SBKrbY0impFWrpH+MN4iNHUL5H4=
deploy:
  true:
    condition: $TOXENV == py27
    repo: Vauxoo/vxscreenshots
    tags: true
  distributions: sdist bdist_wheel
  password:
    secure: mszD8SRejnz90YPJjG8eLmYj9msFUrdks8DJuyBfj5rLd03wY9ZEoqY0BNeYtYvl2OMaNrhgM/9OzRQJ+vWPJtE68vIBx8TsXvJiu25jF3Z10xkuwA02Vtm9nM4aEDE+wqUP0bWkxHCAz7Reh1XRRjegzIZr1Bf8C+ln0iaW+hL0sq0q0B1TQXK3AxyrGZeHhPVZEV+F3QttRL9/NDvFzFtVU+IlIUQfYaWsJ0Vjm0byXMo/80eVYN88UBUXfIt2dOTo+9BjdwVO8d4BpdP8y61isTrfLirQS12vm8l9Q9k5W36kPWa9KwYywmt98aoDfgSGl5KVLxn2Yl6l0GncqMFSpslI8PEMZxOGcmS5G6q0PvosB/lQhwDQMpjJh+hCBTNSVvAd94q7l/nCH9nzyYJuUywzPWtdY5oESIl9w3kcu6OisaMSL5cpsx0/aU6j/FGuZVtpAHBaVajli8rh9vr1Ul2Fqunk/0Pkul2kM3oH/T9oRtIS55hZ5/D2GizcTF1XqqSqNRqNlcNu74Od55b1KxfoDc/DBLMp0roDj2H8MZYauMsDfTxTHK2vleCD9Q2c6bUEq0SSHG+oFE+BogTEWQHHuRyM7/x5SGNZKHQvuUbNgYVd0p+TttsY3NI7/lWQLebIgXzyViOoLYqD84tmXz5pz0RD31pRuPXG8Fo=
  provider: pypi
  user: nhomar
